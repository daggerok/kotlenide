package com.github.daggerok.examples.kotlenide

import com.codeborne.selenide.Condition
import com.codeborne.selenide.Selenide.close
import com.github.daggerok.kotlenide.contains
import com.github.daggerok.kotlenide.has
import com.github.daggerok.kotlenide.open
import org.junit.jupiter.api.Test
import java.net.URL

class OpenTest {

  @Test fun `should open using by String extension function`() {
    "https://google.com".open {
      find("body") {
        this contains "Gmail"
        this has "G"
        close()
      }
    }
  }

  @Test fun `should open using by URL extension function`() {
    URL("https://google.com").open {
      find("body") {
        this.shouldHave(Condition.text("Gmail"))
      }
      close()
    }
  }

  @Test fun `should open using by Pair extension function with free first key contract`() {
    ("url" to "https://google.com").open {
      find("body") {
        this has "Gmail"
      }
      close()
    }
  }

  @Test fun `should open using by Map extension function`() {
    mapOf("relativeOrAbsoluteUrl" to "https://google.com").open {
      find("body") {
        this.shouldHave(Condition.text("Gmail"))
        close()
      }
    }
  }
}
